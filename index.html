<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="index.css">
    <script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-analytics.js"></script>
    <script type="module" src="index.js"></script>
</head>
<body>
<!-- ... 나머지 코드 ... -->  
        <div class="weap">
            <div class="header">
                <div class="logo">
                    <img src="image/logo.png" weigt="71px" height="53px">
                </div>
                <ul class="nav">
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="project.html">PROJECT</a></li>
                    <li><a href="recruit.html">RECRUIT</a></li>
                    <li><a href="login.html" id = "loginmenu"><span id ="loginText">LogIn</span></a></li>
                </ul>
            </div>

            <div class="first">
                <div class="fullpicture">
                    <img src="image/fullpicture.png" width="100%" height="100%">
                    <div class="slegizzagi">
                        <img src="image/SLEGIZZZAGI.png" width="577px" height="43.31px">
                    </div>
                </div>
            </div>

            <div class="second">
                <div class="sec_text">
                    <h3>로고로 보여주는 슬기짜기</h3>
                </div>

                <div class="logos">
                    <li class="logo1">
                        <img class="logo1_non" src="image/logo1_non.png" width="245.91px" height="245.91px">
                        <img class="logo1_on" src="image/logo1.png" width="245.91px" height="245.91px">
                    </li>
                    <li class="logo2">
                        <img class="logo2_non" src="image/logo2_non.png" width="245.91px" height="245.91px">
                        <img class="logo2_on" src="image/logo2.png" width="245.91px" height="245.91px">
                    </li>
                    <li class="logo3">
                        <img class="logo3_non" src="image/logo3_non.png" width="245.91px" height="245.91px">
                        <img class="logo3_on" src="image/logo3.png" width="245.91px" height="245.91px">
                    </li>
                    <li class="logo4">
                        <img class="logo4_non" src="image/logo4_non.png" width="245.91px" height="245.91px">
                        <img class="logo4_on" src="image/logo4.png" width="245.91px" height="245.91px">
                    </li>
                </div>
            </div>

            <div class="third">
                <div class="thi_text">
                    <h3>숫자로 보여주는 슬기짜기</h3>
                </div>

                <ul class="card1">
                    <li class="content1">
                        <div class="content_sub">운영기간 ⏰</div>
                        <div class="content">12년</div>
                    </li>
                    <li class="content2">
                        <div class="content_sub">운영 기수 🚩️</div>
                        <div class="content">22기</div>
                    </li>
                    <li class="content3">
                        <div class="content_sub">현재 활동 회원 🧑🏻‍⚕️</div>
                        <div class="content">72명</div>
                    </li>
                </ul>

                <ul class="card2">
                    <li class="content4">
                        <div class="content_sub">누적 활동 인원 👩🏻‍💻</div>
                        <div class="content">200+명</div>
                    </li>
                    <li class="content5">
                        <div class="content_sub">런칭 프로젝트 💻</div>
                        <div class="content">50+개</div>
                    </li>
                    <li class="content6">
                        <div class="content_sub">앞으로 발전가능성 🧶</div>
                        <div class="percent">
                            <div class="count">0</div>
                            <div class="content">%</div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="btns">
                <button class="moveTopBtn">
                    &#8593;
                </button>
            </div>
            <div class="footer">
                <div class="footer_text">슬기짜기</div>
                <div class="footer_subtext">외래어인 컴퓨터의 순우리말 <span class="text_deco">‘슬기셈틀’</span>과 <span class="text_deco">‘짜다'</span>라는 단어가 더해진 <span class="text_deco">‘슬기짜기'</span>는 컴퓨터를 이용해 할 수 있는 
                    <br>모든 것을 지향하는 컴퓨터 동아리입니다!</div>

                <div class="footer_icons">
                    <li><img src="image/footer_icon1.png" width="27px" height="27px"></li>
                    <li><img src="image/footer_icon2.png" width="27px" height="27px"></li>
                    <li><img src="image/footer_icon3.png" width="27px" height="27px"></li>
                </div>
            </div>
            
        </div>

        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-analytics.js";
            import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyBSebTrjnGqnwZmYe4MvCCK02nhvTyDB2Q",
              authDomain: "sle-web-64734.firebaseapp.com",
              projectId: "sle-web-64734",
              storageBucket: "sle-web-64734.appspot.com",
              messagingSenderId: "22889544223",
              appId: "1:22889544223:web:041ca634e846ee42eb332a",
              measurementId: "G-ML4269WMVH"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);


            const auth = getAuth();

            // Firebase의 인증 상태를 확인하고 "Login" 또는 "Logout" 텍스트를 변경하는 함수
            function checkLoginStatus() {
            const loginMenu = document.getElementById("loginmenu");
            const loginText = document.getElementById("loginText");

            onAuthStateChanged(auth, (user) => {
                if (user) {
                console.log("user");
                // 사용자가 로그인 상태일 때, "Logout"으로 변경
                loginText.textContent = "Logout";
                loginMenu.href = "index.html"; // 더미 링크를 사용하여 클릭 이벤트 방지 (실제로 링크를 클릭해도 페이지가 이동하지 않음)

                // Logout 버튼 클릭 시 Firebase에서 로그아웃하고 index.html로 리다이렉션
                loginMenu.addEventListener("click", () => {
                    signOut(auth).then(() => {
                    // Sign-out successful.
                    }).catch((error) => {
                    // An error happened.
                    });
                });
                } else {
                console.log("no");
                // 사용자가 로그아웃 상태일 때, "Login"으로 변경
                loginText.textContent = "LogIn";
                // 실제 로그인 페이지로 이동하도록 href 속성을 설정
                loginMenu.href = "login.html";
                }
            });
            }

            // 페이지가 로드되면 로그인 상태를 확인하여 텍스트 변경
            window.addEventListener("load", checkLoginStatus);
          </script>
    </body>
</html>