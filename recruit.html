<!DOCTYPE html>
<html leg="kor">
    <head>
        <title>Recruit Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="recruit.css">
        <script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-analytics.js"></script>
        <script src = "recruit.js"></script>
        <meta charset="utf8">
    </head>
</html>
<body>
    <div class="weap">
        <div class="header">
            <div class="logo">
                <img src="image/logo.png" weigt="71px" height="53px">
            </div>
            <ul class="nav">
                <li><a href="index.html">HOME</a></li>
                <li><a href="project.html">PROJECT</a></li>
                <li><a href="recruit.html">RECRUIT</a></li>
                <li><a href="login.html" id = "loginmenu"><span id ="loginText">LogIn</span></a></li>
            </ul>
        </div>

        <div class="first">
            <div class="title">슬기짜기에 지원해주세요!</div>
            <div class="sub">현재는 지원기간이 아닙니다. 관심 감사합니다:&#41;</div> 
        </div>

        <div class="apply">
            <div class="content_title">지원자격</div>
            <div class="content1">
                <li>
                    <div class="content_subtitle">2학기 이상 활동</div>
                    <div class="content">지원 학기와 그 다음 학기까지
                        <br>전공 스터디와 프로젝트 스터디를 
                        <br>비롯한 동아리 활동에 
                        <br>참여하여야 합니다.</div>
                </li>
                <li>
                    <div class="content_subtitle">정규모임 참여</div>
                    <div class="content">학기 중 열리는 
                        <br>주 1회 정모에 성실하게 
                        <br>참여해야 합니다. .</div>
                </li>
                <li>
                    <div class="content_subtitle">방학 프로젝트 참여</div>
                    <div class="content">필수 학기 동안 종강 이후
                        <br>약 한 달간 학교에 남아
                        <br>관심있는 프로젝트에 
                        <br>성실하게 참여해야 합니다.</div>
                </li>
            </div>
        </div>

        <div class="schedule">
            <div class="content_title">모집 일정</div>
            <div class="content1">
                <li>
                    <div class="content_subtitle">지원서 접수</div>
                    <div class="content">지금은 모집 기간이 아닙니다.</div>
                </li>
                <li>
                    <div class="content_subtitle">대면 면접</div>
                    <div class="content">지금은 모집 기간이 아닙니다.</div>
                </li>
                <li>
                    <div class="content_subtitle">최종 합격 발표</div>
                    <div class="content">지금은 모집 기간이 아닙니다.</div>
                </li>
            </div>
        </div>

        <div class="procedure">
            <div class="content_title">면접 절차</div>
            <div class="content1">
                <li>
                    <div class="content_subtitle">코딩테스트</div>
                    <div class="content">C 프로그래밍 이수자에 한하여 진행됩니다. 
                        <br>문제 읽는 시간과  문제 풀이 시간이
                        <br>각각 5분씩 주어집니다.
                        <br>따로 코드 작성이 불가합니다.</div>
                </li>
                <li>
                    <div class="content_subtitle">면접</div>
                    <div class="content">구글폼을 통해 제출된 지원서를
                        <br>바탕으로 지원자님이 
                        <br>슬기짜기와 어울리는지 확인합니다.</div>
                </li>
                <li>
                    <div class="content_subtitle">최종 합격</div>
                    <div class="content">슬기짜기로 만나게 
                        <br>되어 
                        <br>영광입니다 :&#41;</div>
                </li>
            </div>
        </div>
        <div class="btns">
            <button class="moveTopBtn">
                &#8593;
            </button>
        </div>
        <div class="footer">
            <div class="footer_text">슬기짜기</div>
            <div class="footer_subtext">외래어인 컴퓨터의 순우리말 <span class="text_deco">‘슬기셈틀’</span>과 <span class="text_deco">‘짜다'</span>라는 단어가 더해진 <span class="text_deco">‘슬기짜기'</span>는 컴퓨터를 이용해 할 수 있는 
                <br>모든 것을 지향하는 컴퓨터 동아리입니다!</div>

            <div class="footer_icons">
                <li><img src="image/footer_icon1.png" width="27px" height="27px"></li>
                <li><img src="image/footer_icon2.png" width="27px" height="27px"></li>
                <li><img src="image/footer_icon3.png" width="27px" height="27px"></li>
            </div>
        </div>

        
    </div>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-analytics.js";
        import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyBSebTrjnGqnwZmYe4MvCCK02nhvTyDB2Q",
          authDomain: "sle-web-64734.firebaseapp.com",
          projectId: "sle-web-64734",
          storageBucket: "sle-web-64734.appspot.com",
          messagingSenderId: "22889544223",
          appId: "1:22889544223:web:041ca634e846ee42eb332a",
          measurementId: "G-ML4269WMVH"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);


        const auth = getAuth();

        // Firebase의 인증 상태를 확인하고 "Login" 또는 "Logout" 텍스트를 변경하는 함수
        function checkLoginStatus() {
        const loginMenu = document.getElementById("loginmenu");
        const loginText = document.getElementById("loginText");

        onAuthStateChanged(auth, (user) => {
            if (user) {
            console.log("user");
            // 사용자가 로그인 상태일 때, "Logout"으로 변경
            loginText.textContent = "Logout";
            loginMenu.href = "index.html"; // 더미 링크를 사용하여 클릭 이벤트 방지 (실제로 링크를 클릭해도 페이지가 이동하지 않음)

            // Logout 버튼 클릭 시 Firebase에서 로그아웃하고 index.html로 리다이렉션
            loginMenu.addEventListener("click", () => {
                signOut(auth).then(() => {
                // Sign-out successful.
                }).catch((error) => {
                // An error happened.
                });
            });
            } else {
            console.log("no");
            // 사용자가 로그아웃 상태일 때, "Login"으로 변경
            loginText.textContent = "LogIn";
            // 실제 로그인 페이지로 이동하도록 href 속성을 설정
            loginMenu.href = "login.html";
            }
        });
        }

        // 페이지가 로드되면 로그인 상태를 확인하여 텍스트 변경
        window.addEventListener("load", checkLoginStatus);
    </script>

</body>