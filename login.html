<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="login.css">
        <title>login</title>
    </head>
    <body>
        <form>
            <h1 class="login_logo"><img src="image/login.jpeg" width="200px" height="200px"></h1>
            <div class="email"><input type = "email" id = "signInEmail" 
                placeholder="    email" onfocus="this.placeholder=''" onblur="this.placeholder='    email'"/></div>
            <div class="password"><input type ="password" id = "signInPassword" 
                placeholder="    password" onfocus="this.placeholder=''" onblur="this.placeholder='    password'"/></div>
            
            <div class="button">
                <button type ="summit" id="signInButton">Login</button>
                <button type ="button" id="goHomeButton" onclick="location.href='index.html'">홈페이지로 가기</button>
            </div>
        </form>



        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-analytics.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
        
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
            apiKey: "AIzaSyBSebTrjnGqnwZmYe4MvCCK02nhvTyDB2Q",
            authDomain: "sle-web-64734.firebaseapp.com",
            projectId: "sle-web-64734",
            storageBucket: "sle-web-64734.appspot.com",
            messagingSenderId: "22889544223",
            appId: "1:22889544223:web:041ca634e846ee42eb332a",
            measurementId: "G-ML4269WMVH"
            };
        
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);

            import { getAuth, signInWithEmailAndPassword  } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";
            const auth = getAuth();
            document.getElementById('signInButton').addEventListener('click', (event) =>{
                event.preventDefault()
                const signInEmail = document.getElementById('signInEmail').value;
                const signInPassword = document.getElementById('signInPassword').value;
                signInWithEmailAndPassword(auth, signInEmail, signInPassword)
                    .then((userCredential) => {
                        console.log(userCredential)
                        // Signed in
                        const user = userCredential.user;
                        // ...
                        alert("로그인에 성공했습니다!")
                        window.location.href = "index.html";
                    })
                    .catch((error) => {
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        alert("로그인에 실패했습니다. 이메일과 비밀번호를 확인해주세요.");

                    });
            })
        </script>
    </body>
</html>
